# 示例Podfile配置
# 这个文件展示了如何在使用CocoaPods时解决iOS模拟器架构问题

platform :ios, '9.0'
require_relative '../node_modules/@react-native-community/cli-platform-ios/native_modules'

target 'YourAppName' do
  # React Native pods
  pod 'React', :path => '../node_modules/react-native/'
  pod 'React-Core', :path => '../node_modules/react-native/React'
  # 添加其他必要的React Native pods...

  # 本地库
  pod 'RNAliOnepass', :path => '../node_modules/react-native-ali-onepass'

  # 自动链接native modules
  use_native_modules!

  target 'YourAppNameTests' do
    inherit! :search_paths
    # Pods for testing
  end
end

# 关键配置：解决iOS模拟器架构问题
post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      # 排除模拟器的arm64架构，解决第三方framework兼容性问题
      config.build_settings['EXCLUDED_ARCHS[sdk=iphonesimulator*]'] = 'arm64'
      
      # 其他常用配置
      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '9.0'
      config.build_settings.delete 'IPHONEOS_DEPLOYMENT_TARGET'
    end
  end
end 